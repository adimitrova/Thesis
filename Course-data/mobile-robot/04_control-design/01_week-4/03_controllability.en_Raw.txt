so, in the previous lecture, we saw that 
there was something fishy at play here, 
where sometimes we can do pole-placement 
and sometimes we cannot. 
and what we really have here is, it's a 
question of the b matrix. 
is the b matrix rich enough, so that we 
can make the system do whatever we want 
it to do? and remember, that the b 
matrix, really describes the actuators we 
have. so, if we're cheap and we don't buy 
any actuators, i mean there's nothing we 
can do, of course, we cannot affect the 
system. 
so, the choice of b matrix meaning what 
actuators we buy will matter and whether 
or not we have enough control authority 
revolves around the concept of 
controlability. 
and that is the topic of this lecture. 
and in order to sneak up on 
controlability, i'm going to start with a 
rather modest example. 
let's do a discrete-time system, we have 
seen mainly continuous times systems but 
let's start with discrete-time system 
here starting a time zero at the origin 
at 0. 
so, what i would like to do is take this 
system and in n steps, where n is the 
dimension of, of my state, 
i'm going to drive it to a target state, 
x*. 
so basically, here's what i want to do, i 
want to start at the origin. 
and then in n steps [sound] flow around 
until i get to where i would like to be. 
and the question one can ask then is, can 
i do that? is it possible? does there 
exist such a u? well, let's figure it 
out. 
the first thing i do is i pick view at 
time 0 and x1, 
it's ax0+bu0. 
well, x0 was equal to 0, so this whole 
thing is simply equal to b times u0. 
well x2, that's a times x1 plus b times 
u1. well, x1 is bu0, right, so the whole 
thing becomes abu0+bu1. 
x3, well if i plug things in, i get 
a^2bu0+abu1+bu2. 
in fact, if i keep going to xn, i get a 
n-1 bu0, blah, blah, blah, blah, 
right? 
so, we seem to have a formula, really, 
for 
for where we end up. 
and, in fact, what we want to do, of 
course, is make xn equal to this desired 
point. 
and what i can do is i can rewrite this 
thing, this equation, 
which is really an equation in the u's in 
the following form. 
i have u n-1 times b. 
well, that's this term. 
and then, all the way down to u0b an-1, 
which is this term right here. 
so, what i'm doing is i'm just saying, 
this is what i would like to solve with 
respect to my u's. 
well, when can i do that? well, first of 
all, this matrix here, the b ab all the 
way to a n-1 b, 
it's a fancy-looking matrix and, in fact, 
it's an important-looking matrix. 
i'm going to call this matrix, gamma. 
and gamma is an n by m times n matrix, 
where n is the dimension of the state and 
m is the dimension of the input. 
well, this solution, or sorry, this 
equation x* is gamma times this u u 
vector has a solution in terms of u's, if 
and only if the rank of gamma is equal to 
n. 
and rank is the number of linearly 
independent rows or columns in gamma. 
well, so that's what we want to do, 
right? we want to somehow have a gamma 
that's rich enough. 
and it turns out that this thing 
generalizes, this way of thinking about 
the control problem, generalizes quite 
nicely to continuous time systems as 
well. 
so, if i have a continuous time system, 
x dot is ax+bu, x in rn. 
well, first of all, this system is 
completely controllable, which we're 
going to call cc. 
if it is possible to go from any initial 
state to any final state, 
so, meaning, if i start here and i want 
to end up here, 
there is a u that takes me between these 
2 points, 
for any such points, 
that's what it means for the system to be 
completely controllable. 
and now, i'm going to define gamma again, 
which is this b ab all the way to a n-1 
b. 
this is known as the controllability 
matrix. 
and here, ladies and gentlemen, is the 
first theorem of this entire course. 
controllability theorem or complete 
controllability theorem 1. 
the system is completely controllable. 
if and only if the rank, 
which means the number of linearly 
independent columns of gamma or rows, 
it's the same. 
if and only if the rank of gamma is equal 
to n, where n is the dimension of the 
system. 
so, this is the rank test as its known 
and its a way of checking controllability 
of a linear time-invariance system. 
so, let's see what happens. 
here i have two different systems, 2 0 1 
1 x plus 1 1 u is the first one and 0 1 0 
0 and 0 1 u, 
fine, there should be an x here, by the 
way. 
so the lower one is the point mass the 
upper one was one where we actually saw 
that pole-placement was not possible. 
in fact, pole-placement is possible for 
the lower system and not possible for the 
upper system. 
this is, in fact, the system used when we 
couldn't do it. 
well, let's look at them. first of all, 
this top system is a two-dimensional 
system, 
n=2. 
and gamma, in this case, is b ab, all the 
way a n-1 b. 
but n-1=1 so gamma is simply b times ab. 
well, the lower system also istwo- 
dimensional. 
gamma is equal b times ab. 
well, let's compute ab then. 
it turns out to be equal to 2 2 for the 
upper system and if i apply this into 
gamma, i get b here and ab here. 
so, this is 1, 1 the first column and 2, 
2 the second column. 
and if i multiply the first column by 
two, i get the second column. 
so, this thing does not have two linearly 
independent columns. 
in fact, it has one linearly independent 
column. 
so, the rank of gamma is equal to one, 
which means, it's not completely 
controllable. 
well, looking at the lower system. 
well, this is ab, this is my gamma, 0 1 1 
there is no way i can multiply this 
column by anything to get this column. 
so, the lower gamma has rank equal to 2 
because that's two linearly independant 
columns. 
so, it is completely controlable. 
so here, pole-placement not possible, 
not completely controllable. 
here, pole-placement possible, 
not completely controllable. 
it seems like we're ready for theorem 
number 2. 
so, if i have u as -kx, x dot then become 
a-bkx. 
this is the close loop dynamics. 
then, controllability theorem number 2 
says that pole-placement to arbitrary 
eigenvalues is possible if and only if 
the system is completely controllable. 
so, what this tells me is that we need to 
check controllability. 
if we don't have complete 
controllability, chances are we're not 
going to be able to control them. 
so, this is the obstruction to 
pole-placement. 
and, in fact let's let's see how we would 
actually compute something like this for 
real. 
so, let's say that i have again, my 
point, my, my system. 
well, in matlab, luckily for us, we don't 
have to compute things at all. 
we just say, here is the controllability 
matrix. 
so, gamma or g is controllability of ab, 
we can check the rank. 
in this case, we get the answer out, 2. 
so, the rank of g is 2. 
n is 2, in this case, 
so we have indeed, a completely 
controllable system, 
which means, again i forgot an x there, i 
apologize, 
which means that we can place the poles 
wherever we want and we all, it also 
means that it's possible to go between 
any two points. 
so, let's say that i start here and i 
want to go to x*. 
is it possible to go like this? well, i 
know it's possible to go from x0 to x* 
but it turns out that just because you 
can go between any two points, doesn't 
mean you can follow any trajectory 
because this system, 
the point mass, well, x1 here is 
position, right? and x2 is velocity. 
well, if i'm here, that means i have a 
positive velocity and a positive 
possession. 
and now, what i'm going to do if i start 
moving like this, i'm going backwards, 
meaning, x1 is reduced with a positive 
velocity and there is no way i can go 
backwards with a positive velocity, so 
this is not possible. 
so, what do we need to do? well, here i 
have a positive velocity so i'm going to 
keep growing but i can reduce the 
velocity. 
and here, i have zero velocity, right? 
down here. 
and that negative velocity, i start going 
backwards. 
and [sound] i'm going backwards. 
and then, i can start going forward again 
to get to x*. 
so, this is how you would have to go from 
x0 to x*. 
so, you can't follow arbitrary 
trajectories just because the system is 
completely controllable, 
but you know that you can go between 
arbitrary points. so, that gives us the 
tools that we really need to understand 
when we can control the system and that 
tool is controllability. 
