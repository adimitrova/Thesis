1
00:00:00,012 --> 00:00:05,280
So, in the previous lecture, we saw that 
there was something fishy at play here, 

2
00:00:05,280 --> 00:00:09,595
where sometimes we can do pole-placement 
and sometimes we cannot. 

3
00:00:09,595 --> 00:00:14,206
And what we really have here is, it's a 
question of the b matrix. 

4
00:00:14,206 --> 00:00:19,303
Is the b matrix rich enough, so that we 
can make the system do whatever we want 

5
00:00:19,303 --> 00:00:24,375
it to do? And remember, that the b 
matrix, really describes the actuators we 

6
00:00:24,375 --> 00:00:29,855
have. So, if we're cheap and we don't buy 
any actuators, I mean there's nothing we 

7
00:00:29,855 --> 00:00:32,963
can do, of course, we cannot affect the 
system. 

8
00:00:32,963 --> 00:00:38,212
So, the choice of b matrix meaning what 
actuators we buy will matter and whether 

9
00:00:38,212 --> 00:00:42,760
or not we have enough control authority 
revolves around the concept of 

10
00:00:42,760 --> 00:00:46,560
controlability. 
And that is the topic of this lecture. 

11
00:00:46,560 --> 00:00:50,911
And in order to sneak up on 
controlability, I'm going to start with a 

12
00:00:50,911 --> 00:00:54,949
rather modest example. 
Let's do a discrete-time system, we have 

13
00:00:54,949 --> 00:00:59,935
seen mainly continuous times systems but 
let's start with discrete-time system 

14
00:00:59,935 --> 00:01:02,997
here starting a time zero at the origin 
at 0. 

15
00:01:02,997 --> 00:01:08,022
So, what I would like to do is take this 
system and in n steps, where n is the 

16
00:01:08,022 --> 00:01:12,497
dimension of, of my state, 
I'm going to drive it to a target state, 

17
00:01:12,497 --> 00:01:15,772
x*. 
So basically, here's what I want to do, I 

18
00:01:15,772 --> 00:01:21,343
want to start at the origin. 
And then in n steps [SOUND] flow around 

19
00:01:21,343 --> 00:01:28,396
until I get to where I would like to be. 
And the question one can ask then is, can 

20
00:01:28,396 --> 00:01:35,016
I do that? Is it possible? Does there 
exist such a u? Well, let's figure it 

21
00:01:35,016 --> 00:01:39,038
out. 
the first thing I do is I pick view at 

22
00:01:39,038 --> 00:01:41,065
time 0 and x1, 
it's Ax0+Bu0. 

23
00:01:42,312 --> 00:01:51,197
Well, x0 was equal to 0, so this whole 
thing is simply equal to B times u0. 

24
00:01:51,197 --> 00:02:00,907
Well x2, that's A times x1 plus B times 
u1. Well, x1 is Bu0, right, so the whole 

25
00:02:00,907 --> 00:02:07,536
thing becomes ABu0+Bu1. 
x3, well if I plug things in, I get 

26
00:02:07,536 --> 00:02:14,862
A^2Bu0+ABu1+Bu2. 
In fact, if I keep going to xn, I get A 

27
00:02:14,862 --> 00:02:20,109
n-1 Bu0, blah, blah, blah, blah, 
right? 

28
00:02:20,109 --> 00:02:24,185
So, we seem to have a formula, really, 
for 

29
00:02:24,185 --> 00:02:28,351
for where we end up. 
And, in fact, what we want to do, of 

30
00:02:28,351 --> 00:02:31,646
course, is make xn equal to this desired 
point. 

31
00:02:31,646 --> 00:02:36,284
And what I can do is I can rewrite this 
thing, this equation, 

32
00:02:36,284 --> 00:02:41,438
which is really an equation in the u's in 
the following form. 

33
00:02:41,438 --> 00:02:45,055
I have u n-1 times B. 
Well, that's this term. 

34
00:02:45,055 --> 00:02:51,297
And then, all the way down to u0B an-1, 
which is this term right here. 

35
00:02:51,297 --> 00:02:58,119
So, what I'm doing is I'm just saying, 
this is what I would like to solve with 

36
00:02:58,119 --> 00:03:02,680
respect to my u's. 
Well, when can I do that? Well, first of 

37
00:03:02,680 --> 00:03:06,977
all, this matrix here, the B AB all the 
way to A n-1 B, 

38
00:03:06,977 --> 00:03:12,808
it's a fancy-looking matrix and, in fact, 
it's an important-looking matrix. 

39
00:03:12,808 --> 00:03:19,116
I'm going to call this matrix, gamma. 
And gamma is an n by m times n matrix, 

40
00:03:19,116 --> 00:03:26,090
where n is the dimension of the state and 
m is the dimension of the input. 

41
00:03:26,090 --> 00:03:33,243
Well, this solution, or sorry, this 
equation x* is gamma times this U u 

42
00:03:33,243 --> 00:03:41,323
vector has a solution in terms of u's, if 
and only if the rank of gamma is equal to 

43
00:03:41,323 --> 00:03:43,738
n. 
And rank is the number of linearly 

44
00:03:43,738 --> 00:03:48,445
independent rows or columns in gamma. 
Well, so that's what we want to do, 

45
00:03:48,445 --> 00:03:52,176
right? We want to somehow have a gamma 
that's rich enough. 

46
00:03:52,176 --> 00:03:56,906
And it turns out that this thing 
generalizes, this way of thinking about 

47
00:03:56,906 --> 00:04:02,523
the control problem, generalizes quite 
nicely to continuous time systems as 

48
00:04:02,523 --> 00:04:05,930
well. 
So, if I have a continuous time system, 

49
00:04:05,930 --> 00:04:10,519
x dot is Ax+Bu, x in Rn. 
Well, first of all, this system is 

50
00:04:10,519 --> 00:04:14,659
completely controllable, which we're 
going to call CC. 

51
00:04:14,659 --> 00:04:19,645
If it is possible to go from any initial 
state to any final state, 

52
00:04:19,645 --> 00:04:23,722
so, meaning, if I start here and I want 
to end up here, 

53
00:04:23,722 --> 00:04:27,450
there is a u that takes me between these 
2 points, 

54
00:04:27,450 --> 00:04:31,950
for any such points, 
that's what it means for the system to be 

55
00:04:31,950 --> 00:04:37,006
completely controllable. 
And now, I'm going to define gamma again, 

56
00:04:37,006 --> 00:04:40,211
which is this B AB all the way to A n-1 
B. 

57
00:04:40,211 --> 00:04:43,565
This is known as the controllability 
matrix. 

58
00:04:43,565 --> 00:04:49,163
And here, ladies and gentlemen, is the 
first theorem of this entire course. 

59
00:04:49,163 --> 00:04:54,119
Controllability theorem or complete 
controllability theorem 1. 

60
00:04:54,119 --> 00:04:58,843
The system is completely controllable. 
If and only if the rank, 

61
00:04:58,843 --> 00:05:04,231
which means the number of linearly 
independent columns of gamma or rows, 

62
00:05:04,231 --> 00:05:08,532
it's the same. 
if and only if the rank of gamma is equal 

63
00:05:08,532 --> 00:05:12,638
to n, where n is the dimension of the 
system. 

64
00:05:12,638 --> 00:05:19,566
So, this is the rank test as its known 
and its a way of checking controllability 

65
00:05:19,566 --> 00:05:25,118
of a linear time-invariance system. 
So, let's see what happens. 

66
00:05:25,118 --> 00:05:31,634
Here I have two different systems, 2 0 1 
1 x plus 1 1 u is the first one and 0 1 0 

67
00:05:31,634 --> 00:05:34,201
0 and 0 1 u, 
fine, there should be an x here, by the 

68
00:05:34,201 --> 00:05:37,189
way. 
so the lower one is the point mass the 

69
00:05:37,189 --> 00:05:41,699
upper one was one where we actually saw 
that pole-placement was not possible. 

70
00:05:41,699 --> 00:05:46,490
In fact, pole-placement is possible for 
the lower system and not possible for the 

71
00:05:46,490 --> 00:05:49,542
upper system. 
This is, in fact, the system used when we 

72
00:05:49,542 --> 00:05:52,982
couldn't do it. 
Well, let's look at them. First of all, 

73
00:05:52,982 --> 00:05:57,162
this top system is a two-dimensional 
system, 

74
00:05:57,162 --> 00:06:01,655
n=2. 
And gamma, in this case, is B AB, all the 

75
00:06:01,655 --> 00:06:06,449
way A n-1 B. 
But n-1=1 so gamma is simply B times AB. 

76
00:06:06,449 --> 00:06:10,993
Well, the lower system also istwo- 
dimensional. 

77
00:06:10,993 --> 00:06:15,268
Gamma is equal B times AB. 
Well, let's compute AB then. 

78
00:06:15,268 --> 00:06:21,206
It turns out to be equal to 2 2 for the 
upper system and if I apply this into 

79
00:06:21,206 --> 00:06:27,023
gamma, I get B here and AB here. 
So, this is 1, 1 the first column and 2, 

80
00:06:27,023 --> 00:06:31,322
2 the second column. 
And if I multiply the first column by 

81
00:06:31,322 --> 00:06:35,940
two, I get the second column. 
So, this thing does not have two linearly 

82
00:06:35,940 --> 00:06:40,038
independent columns. 
In fact, it has one linearly independent 

83
00:06:40,038 --> 00:06:43,002
column. 
So, the rank of gamma is equal to one, 

84
00:06:43,002 --> 00:06:46,192
which means, it's not completely 
controllable. 

85
00:06:46,192 --> 00:06:50,627
Well, looking at the lower system. 
Well, this is AB, this is my gamma, 0 1 1 

86
00:06:50,627 --> 00:06:54,867
0. 
There is no way I can multiply this 

87
00:06:54,867 --> 00:07:00,012
column by anything to get this column. 
So, the lower gamma has rank equal to 2 

88
00:07:00,012 --> 00:07:04,082
because that's two linearly independant 
columns. 

89
00:07:04,082 --> 00:07:09,756
So, it is completely controlable. 
So here, pole-placement not possible, 

90
00:07:09,756 --> 00:07:14,352
not completely controllable. 
Here, pole-placement possible, 

91
00:07:14,352 --> 00:07:19,301
not completely controllable. 
It seems like we're ready for theorem 

92
00:07:19,301 --> 00:07:23,448
number 2. 
So, if I have u as -Kx, x dot then become 

93
00:07:23,448 --> 00:07:26,404
A-BKx. 
This is the close loop dynamics. 

94
00:07:26,404 --> 00:07:32,262
Then, controllability theorem number 2 
says that pole-placement to arbitrary 

95
00:07:32,262 --> 00:07:37,933
eigenvalues is possible if and only if 
the system is completely controllable. 

96
00:07:37,933 --> 00:07:42,470
So, what this tells me is that we need to 
check controllability. 

97
00:07:42,470 --> 00:07:47,094
If we don't have complete 
controllability, chances are we're not 

98
00:07:47,094 --> 00:07:51,226
going to be able to control them. 
So, this is the obstruction to 

99
00:07:51,226 --> 00:07:55,636
pole-placement. 
And, in fact let's let's see how we would 

100
00:07:55,636 --> 00:07:58,859
actually compute something like this for 
real. 

101
00:07:58,859 --> 00:08:02,366
So, let's say that I have again, my 
point, my, my system. 

102
00:08:02,366 --> 00:08:06,769
Well, in MatLab, luckily for us, we don't 
have to compute things at all. 

103
00:08:06,769 --> 00:08:09,766
We just say, here is the controllability 
matrix. 

104
00:08:09,766 --> 00:08:13,491
So, gamma or g is controllability of AB, 
we can check the rank. 

105
00:08:13,491 --> 00:08:17,140
In this case, we get the answer out, 2. 
So, the rank of g is 2. 

106
00:08:17,140 --> 00:08:20,836
n is 2, in this case, 
so we have indeed, a completely 

107
00:08:20,836 --> 00:08:25,502
controllable system, 
which means, again I forgot an x there, I 

108
00:08:25,502 --> 00:08:29,238
apologize, 
which means that we can place the poles 

109
00:08:29,238 --> 00:08:34,510
wherever we want and we all, it also 
means that it's possible to go between 

110
00:08:34,510 --> 00:08:38,283
any two points. 
So, let's say that I start here and I 

111
00:08:38,283 --> 00:08:42,296
want to go to x*. 
Is it possible to go like this? Well, I 

112
00:08:42,296 --> 00:08:48,125
know it's possible to go from x0 to x* 
but it turns out that just because you 

113
00:08:48,125 --> 00:08:53,077
can go between any two points, doesn't 
mean you can follow any trajectory 

114
00:08:53,077 --> 00:08:57,173
because this system, 
the point mass, well, x1 here is 

115
00:08:57,173 --> 00:09:03,307
position, right? And x2 is velocity. 
Well, if I'm here, that means I have a 

116
00:09:03,307 --> 00:09:07,029
positive velocity and a positive 
possession. 

117
00:09:07,029 --> 00:09:13,452
And now, what I'm going to do if I start 
moving like this, I'm going backwards, 

118
00:09:13,452 --> 00:09:18,412
meaning, x1 is reduced with a positive 
velocity and there is no way I can go 

119
00:09:18,412 --> 00:09:22,588
backwards with a positive velocity, so 
this is not possible. 

120
00:09:22,588 --> 00:09:27,623
So, what do we need to do? Well, here I 
have a positive velocity so I'm going to 

121
00:09:27,623 --> 00:09:30,662
keep growing but I can reduce the 
velocity. 

122
00:09:30,662 --> 00:09:33,898
And here, I have zero velocity, right? 
Down here. 

123
00:09:33,898 --> 00:09:37,343
And that negative velocity, I start going 
backwards. 

124
00:09:37,343 --> 00:09:42,120
And [SOUND] I'm going backwards. 
And then, I can start going forward again 

125
00:09:42,120 --> 00:09:45,644
to get to x*. 
So, this is how you would have to go from 

126
00:09:45,644 --> 00:09:48,759
x0 to x*. 
So, you can't follow arbitrary 

127
00:09:48,759 --> 00:09:53,127
trajectories just because the system is 
completely controllable, 

128
00:09:53,127 --> 00:09:59,302
but you know that you can go between 
arbitrary points. So, that gives us the 

129
00:09:59,302 --> 00:10:05,757
tools that we really need to understand 
when we can control the system and that 

130
00:10:05,757 --> 00:10:07,245
tool is controllability. 