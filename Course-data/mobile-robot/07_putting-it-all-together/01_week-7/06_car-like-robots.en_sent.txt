the punchline with the previous lecture  was the pos, meaning position and  heading, is central in a lot of different  situations.
and we made the claim that,  other pos-based models, like cars or  underwater gliders, or other kinds of  autonomous vehicles, can be made to look  like a unicycle.
today, i want to make this observation  precise and concrete by looking at the  car-like robots.
so, for instance, there's a picture of  our autonomous car out of georgia tech.
and the question is,  how do we make this thing look like a  unicycle?
well, the first thing we need  is a model.
and the standard car kinematics is to add  another state to the system, which is the  steering handle.
so here is the picture that we have in  mind.
the, the rear wheel wheels are just  pointing in whatever direction the car is  going which it or the car is facing,  which is the orientation phi.
the position of the car, well, we're  going to take this point which is in the  middle in between the front wheels.
and this distance here is going to be l.  so, the rear wheels are l away from the  front wheels.
and then, we have this angle which we're  going to call psi.
so, what we're actually going to end up  doing is moving the car in this  direction.
and the direction then is psi+phi.
so, if we make this observation into a  model,  we first see that the states are x, y,  phi, and psi steering angle.
the inputs now that we're going to have  are,  as before, the speed.
how quickly is the car going?
and, how  fast are we turning the steering wheel?
i'm going to call this sigma.
angular steering velocity, or steering  angle velocity.
the model then becomes,  well, x-dot and v-dot is as before v  cosin and then the direction we're going  in.
but the direction we're going in is now  psi+phi.
then, we have an equation that relates  the steering angle and the velocity to  the heading of the car.
and then, the last component is that we  can immediately influence the velocity of  the steering angle, so how quickly are we  turning the, the wheel.
okay, good.
now, what we're going to do is pick sigma  and v in a clever enough way to make this  thing become a unicycle.
well, let's start then with the unicycle  itself.
so, this is our car model.
well, let's  start with our unicycle model and do  something called curvature control.
so, what this means is that if i want to  drive along a particular circular arc,  let's say that the radius of the arc is  raw.
and here's the car, it's going, sorry,  the unicycle it's going, do, do, do, do,  do, right?
this is the direction in which  it's going so the orientation in the  unicycle, this angle is just phi.
well, here's alpha and simple geometry  tells me that alpha is just phi minus pi  over 2.  okay.
if i'm describing how this thing is  evolving along a circular arc,  then i get, for instance, that the x  position is simply,  let's say that the center of the circle  is x0, y0.
then, x is simply x0 + rho cosine alpha.
but because alpha is phi minus pi over 2,  i can write this is x dot plus rho sine  alpha,  thanls to one of my favorite  trigonometric identities.
well, if i take the derivative of this  with respect to time, i get that, well,  this thing the derivative of that is  zero.
the time derivative of this,  phi dot is equal to omega.
so, my x dot becomes omega rho cosine  phi.
but, wait a second.
i know what x dot is,  it's v cosine phi because it's a  unicycle.
so now, these two expressions have to be  the same.
which means that the radius of the circle  is v over omega.
now, a lot of times, we care about what's  called curvature.
and curvature is 1 over the radius.
so, the curvature is simply 1 over rho.
which means that the curvature i would  get if i have omega and v,  well, it's omega over v.  so, the bigger the omega is, the tighter  the circle, meaning the higher the  curvature.
if omega is zero, i'm going at a, in a  straight line and the curvature is zero.
so, this is the curvature of a unicycle.
okay.
let's figure what the curvature is  when we have a car.
the only difference now is that the you,  the car is actually pointing in this  direction but it's going in this  direction because of the fact we have a  steering angle.
so, as before, alpha, this angle where we  wanted to say where the car is, is,  well, it's phi plus psi minus pi over 2.  so, we're doing exactly what we did  before.
x is x0 plus rho where rho is the radius  of the circle,  sine phi plus psi.
taking the derivative, we get x dot is  rho phi plus psi cosine phi plus psi.
now, let's assume that we're driving on a  circle.
this means that we're going to hold the  steering wheel fixed.
which means that this term is going to be  equal to zero because we're not changing  the steering angel,  right?
so, we know that psi dot is zero.
well, we also have the equation for phi  dot, it looks like v/l sine phi, sorry,  psi, v/l sine psi.
and, we also know that x dot should be  equal to this expression.
so, what do we do?
well, we simply now line up v here and  rho phi dot there to get the curvature.
sorry,  to get the radius of the circle.
so, this becomes l divided by sine psi.
and now, we invert this to get the  curvature.
so, the curvature becomes sine psi over l  where psi is this fixed steering angle  we're driving.
okay.
then, we have curvature for the unicycle,  this thing.
curvature for the car,  that thing.
well, we just put them equal, right?
why  not?
if we put them equal, then we  immediately get that sine psi should be  equal to omega l/v.
so this is the steering angle we, if i  have a unicycle that's driving at omega  and v, then this is what the steering  angle should be to get the same behavior  out.
which also means that my psi then  should be arcsin of, well, omega l/v.
well, i can't set psi directly.
so, what i need to do is say that this is  my desired steering angle.
and then, i somehow need to make my  actual steering angle become close to my  desired steering angle.
that's the name of the game here,  right?
so when we get these arcsin, or arcsine  sorry.
psi d is arc sinus of omega l/v.
okay.
now, arcsin is a little bit of an  annoying thing to have to do.
so instead, we're not going to do that.
so, let's say that i have this thing and  i would like d to be close to it.
well, one thing i can do is a simple  p-regulator, which is something you've  seen.
but  this thing involves this arcsin and one  thing to note is what happen if actually  keep sinus in there while we would get  something kind of cleaner,  right?
so, let's get rid of it and simply say  that instead of psi here, i'm going to do  sine of psi.
and instead of omega d then, i'm going to  do sine omega d.  so, i keep saying omega, i mean psi, sin  psi d, which we know is omega l over v,  which goes in there,  right?
so, we keep the sinuses in there instead  of taking arcsin.
and the reason for that is that for small  enough angles this is, this is roughly  equal to the angle itself.
so, sinus is, is not a bad thing to do.
well, let's see if this works.
so over on the left there, you see the  unicycle, and over on the right you see  the car.
and the unicycle has some omega and v,  and the car is running the sinus version  of p-regulator.
and, as you can see, they're pretty  close, which means that we can basically  do the same kind of curvature control on  the car as we can do on the unicycle.
so, the moral of the story with this is,  you know what?
we're planning.
we're getting some direction we want to  move in.
here is my direction i want to move in.
well, we know the clever trick.
the  trick, right?
the trick gives us v and  omega, which is what are the speeds and  angular velocities we would like.
we now also know that the curvature is  omega over v. so, if you give me v and  omega, i can tell you what the curvature  is going to look like.
well, let's use this curvature idea to  make the car track the unicycle which  gives us v and sigma.
and, of course, this v is the same as  that v.  so, we don't have to do anything about  it.
the only thing we have to do, is to add  what sigma should actually be.
and this, ladies and gentlemen, allows us  to make the car act like a unicycle  simply by using this curvature idea.
and this generalizes to other types of  unicycle like systems where pos, again,  is really important.
