so, last time we saw that the pi
regulator, or its slightly more elaborate
brother, the pid regulator, was enough to
make the cruise controller do what it
should do. which is, achieve stability,
tracking and parameter robustness. today i
want to talk a little bit more about pid
control.
and, the reason for that is, this
regulator is such an important regulator
or controller that's out there in
virtually every industry you can think of,
there is a pid regulator going on
underneath the hood in almost all
controllers. and, there are really three
knobs you can tweak here. one is kp, which
is the proportional gain. the other's ki
which is the integral gain and then kd
which is the derivative gain. and i want
to talk a little bit about what are the
effects of these gains? well first of all
p as we saw. it's a contributor to
stability. in the sense that, it makes the
system, not guaranteed. but it's helping
out to make the system stable. and it's,
it's making it responsive in the sense
that. you respond if someone, if you
click, or press 70 miles per hour on your
cruise controller. it drives the system
towards that value. i'm calling it medium
rate responsiveness. because it's not
super fast. and the speed. in fact, the
rate of responsiveness is a function of
how big kp is. but as you saw, it wasn't
typically enough to achieve tracking. but
the i component is really. good for
tracking and in fact if your system is
stable than having an eye component is
enough to assure tracking in almost all
cases. it's also extremely effective at
rejecting disturbances so that integral
part is a very effective part to have in
your controller. now it's much slower in
the sense that you have to accumulate over
time errors to respond to them because
it's an integral. so it, it re, responds
slower and there is a very there is a
little bit of a warning i need to make
there, by making k i large. you may very
well induce oscillation so this is not, oh
i'm going to pick all of the them.
a million and go home. yo u have to be a
little careful in how you actually select,
select these gates. now the d part, well,
since it's not responding to actual
values, their values but the change is in
their values, it's typically faster
responsiveness, so something is about to
happen. well, the rate is changing so the,
the derivative part kicks in typically
faster. now there is a little caveat to
this. and that's the derivative is
sensitive to noise. because if you have a
signal that's noisy then if you compute
the derivative of that signal you're going
to get rather aggressive derivatives that
don't necessarily correspond to what the
non noisy signal would be. so you have to
be a little careful with the d part. so
making kd too large is typically an
invitation to disaster because you're,
you're over reacting to, to noise. so, the
last thing i want to point out though is
when you put this together you get pid
which is already by far the most used low
level controller. low level means whenever
you have a dc motor somewhere and you want
to make it do something somewhere there is
a pid leak. whenever you have a chemical
processing plant for getting the right
concentrations in your chemicals,
somewhere there is a pid regulator. it's
almost everywhere there, or in almost all
control applications, pid shows up under
the hood in some form or another. but, i
do want to point out, that this is not a
one-size-fits all. we can't guarantee
stability with a pid regulator. sometimes
it's not enough. in fact, when we go to
complicated robotic systems, the pid
regulator will typically not be enough by
itself. so we need to do a lot of more
thinking and modeling to, to use it and at
this point we actually don't really know
how to pick these gains. however, i want
to point out that this is a very, very
useful type of controller. and since it is
a feedback lob because it depends upon the
error it actually fights uncertainty model
parameters in a remarkable way and the
feedback has this remarkable ability to
overcome the fact that we don't know
gamma, we don't know c, we don't know m.
but still, we seem to do well when we
design controllers for a wide range of, of
these parameters. so having said that,
let's hook it up to our car and in fact we
had a pid regulator for velocity control
on the urban challenge vehicle, sting 1 as
it's called. we had this model that we've
already seen, and i pick it's completely
random and arbitrary numbers here for the
parameters. i even put r equals to 1, so
we're going to go 1 mile per hour. let's
say 1 meter per second. it really doesn't
matter these are arbitrary values. just so
you'll see what's going on. so, if we
start with our friend the p regulator so
we have kp = 1 here and all the other
gains are 0 then well, we don't actually
make it up to 1 we only make it 2 - 0.1.
this we had already seen. so the p part by
itself was not enough to, to both be
stable and achieve tracking. well, that's
ok in the i part. it's cruise-controller
again kp is 1, ki is 1 and now we are
having a very nice so called step response
which means we are responding, we are
waking up and then we are hitting it with
a step, in this case the step of height 1
or 70 if its 70 miles per hour. so then
this thing makes it's way up and it stays
up there perfect. so this is actually a
good and successful design right here. now
,if this is so good why don't we make ki
higher to make it even better? well if i
to crank up ki to 10. then, all of a
sudden, my system starts oscillating. so
this is an example of where the integral
part may actually cause oscillations.
which is, we should at least be aware of
this fact. and be a little careful when we
tweak our parameters. and if we see
oscillations that is a. clear indication
that the integral part is typically a
little bit too large. what about the d
part? well, let's add the d part. in this
case, it actually doesn't matter too much.
what you see here is that i had a small d
part. i'm a little bit paranoid when it
comes to large kd terms because they are a
little bit noise sensitive.
but what you're seeing here is that you're
getting a faster initial response because
of the introduction of a d part, but then,
we actually get almost a slower response
towards the end so the d part is there to
drive it well up in the beginning, but
then so were stand in this particular
application, having a d gain that's not
ser, it's not even clear if that was, was
useful. but this is some of the thinking
that goes into tweeking pid regulators.
so what we are going to do next time, is
we're going to go now, from this rather
abstract, integrals and derivatives, to
something that we can actually implement.
and we're going to see how these pid gains
show up when we control a the altitude of
a hovering quad regulator..
