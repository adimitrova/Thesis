[SOUND]
>> Hello and welcome to the last
lecture of this module. In previous videos, we studied the main
structures of Contiki Core, and other important features. We are now going to cover the last piece,
the Cooja simulator. Cooja is a simulation software for
wireless sensor network applications. It works with Kontiki seamlessly. By using Cooja simulator,
wireless sensor network applications running in Kontiki can be
ported to different platforms, such as TI 2258, SECUduino,
and sit one mode. The simulator allows several libraries to
be loaded in the same Cooja simulation. For example, a large wireless sensor
network application can be formed from heterogeneous sensor nodes,
which vary in terms of hardware platform. In addition, Cooja provides
several features for analyzing and controlling a Contiki system. Cooja can be used for different OSs,
including Windows, Linux, and even Mac OS. The Cooja simulator is located in the
tools folder of your Contiki distribution. For convenience, I will continue
the discussion with the latest version, which is Contiki 3.0. However, please note that all steps and commands performed here
are similar in Contiki 2.7. You start the Cooja simulator with the
following commands shown in this slide. If the simulator does not start
after the second command and shows an error, don't panic. The problem is that in the newest version,
Contiki 3.0, the folder mspsim is empty. In order to fix this issue,
you have to download MSP from this link, and then follow the shown steps. Once Cooja opens,
you create a new simulation by choosing File > New simulation. This opens a window to create a new
simulation, as shown in the slide. There are several boxes that allow
you to fine tune your simulation. They have default values, but you can
also set your application's requirements. For most applications,
unit disc graph medium, UDGM. Distance loss is suitable for
radio medium. The delay to start a mode is
set in Mode startup delay(ms). Final setting is the seed for
random number generator in Random seed. When you finish the settings, click on create butter to have your new
simulation open as shown in this light. The interface has five windows. These are: the network window in the upper left corner shows
the network's physical layout. The Simulation Control window
in the middle top part is used to control the simulation. You can stop, start, and
reload the simulation. The Mote Output window at the center shows
any serial output generated by all motes. The Timeline window at the bottom. Shows events that occur on each mode
over the timeline of the simulation. And finally the Notes window
in the right side for temporary notes in the simulation. Let's now start to setup a whole
network of a single RPL border router. We start by adding single border router. To do this, go to Motes then Add Motes followed by Create New Mote Type,
and select sky mote. In this example we work with the sky mote. You can choose any types of mote depending
on your application's requirements. Remember to give the mote
type a useful description. Create border router and several nodes Now the slide shows a form for
creating a new mode type. Now, we will need to fill all the boxes. The first one is the mode name. In this case,
we set the name as border router. In the second box, we provide
the path to the source of the node. There are two types of
sources we can provide here. The first one is the source file in C,
and the second one is a compiled file. In this example, we did not
compile any source for a sky node. Therefore we provide a c source
file of the RPL for the router. Now, we can compile the source file
by clicking the compile button. It is recommended that you
click clean before compiling. When the compilation is successful, you can create a border router
by selecting the Create button. Now, a new window appears. You must fill all the empty boxes. It is also fine to leave
the default settings here. The only box that you must fill or edit is
the box labeled as number of new nodes. In our network we only need one
border router, so the value is one. After choosing av node, a single border
router node appears in the network window. We need to repeat these same
steps to create additional nodes. The only two differences are the source
for the nodes and the number of nodes. In this case, we provide
Caesar's file from the directory, which you can find on the slide. Please follow the detailed steps
in the slide to add more notes. Once everything is successfully
done you will see a total of six randomly placed notes on
the network window as shown in the slide. Out of the six nodes,
node one is the border router. And the rest are the nodes which
will execute unicasts sender code. Note that you can click, drag nodes, and locate them at your preferred location,
to create your own network topology. When you click on a node, it also shows
the radio environment in green and grey color. Please note that to have
radio enviornment and network traffic displayed, you must
choose these options in the View menu. Even though the network
layout is now set up. It is not jet complete. Before starting the simulation a bridge
with the rpl network must be created. The bridge is responsible for the connection of the local
network with the internet. It means that bridging helps
the border router become connective with the outside world. Subsequently IP address of
the border router can be pinged. We create the bridge using
the command shown on the slide. And the results should be similar
to those shown on the bottom. We verify this using a web browser to
connect to the router using this address. If you also get a results similar to
the one shown here congratulations, you have successfully
created an RPL network. I hope that after this video you can
simulate your own one application with and use it for a capstone project. With this video we conclude the module. I hope you enjoyed watching. [MUSIC]