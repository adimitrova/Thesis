a review from last time, we talked
about momentum controlled devices,
lets do a quick thing
what was the big benefit, kevin,
of momentum controlled devices versus
thrusters to do attitude control
 can have a more precise
control of the attitude
 okay, i mean, we can give just
a really small torques on it
though thats slowly changing because
people are coming up with very
interesting micro thrusters that can
also do nano newton meters of force
and so historically thats been precisely
true, ,  years from now, well see
laugh its evolving,
but thats definitely so
we can make some more forces
what else, mariel
 you dont have to use fuel
 no fuel, that is the big benefit
so regardless of, well, those little micro
devices are probably very efficient,
they may not take much fuel
but its still a finite resource
versus these wheels,
its purely electrical
part of that is a motor,
an electric motor, that we drive
you give it a voltage,
it spins up, all right
so with reaction wheel,
you put  newton meter in on that torque,
you get  newton meter back
its a  to  relationship, which is nice
but we have to also develop the motor
torque equations, which well do today
what we did last time was developed
equations of motion of a spacecraft with
the single variables b, c, and g, or
at least, i outlined how you develop them
theres lots of little steps
in between that youre doing
but so today too, we need extra equations
of motion that well talk about
today when it comes together
what is the benefit of a cmg device
then compared to a reaction wheel
mandar, what do you think
 cmgs use a high spin rate,
which stabilize,
as opposed to reaction wheels,
which need to spin
 so its the highest spin,
what gives you a stability
 no, sorry, they use high spin
rate to generate the torque
 generate the torque, exactly
theres a huge gyroscopic coupling
if your wheel is spinning quickly,
and my arm is my torque vector,
if youre twisting that arm,
youre changing that momentum vector
and h dot equal to l,
a change in momentum, must be a torque
thats that huge gyroscopic torque
that can be taken advantage of it
great, so we get huge torques
if you have to maneuver very quickly or
maneuver very large objects,
like space stations and really big
satellites, cmgs are definitely preferred
otherwise, you would need huge wheels
whats the challenge with
reaction wheels though
theyre simple, theyre cheaper,
whats the big issue
so less torque, right, but what else
 so there can be static
dynamic imbalance of the wheel
 i didnt think about that,
but thats correct
you could have an imbalance
thats always the case, but
thats also true for a cmg
no mechanical device is ever
perfectly balanced, all right
so and a cmg actually moving at a very
high frequency is going to give you this
very high frequency jitter that you just
have to make sure your system handles,
and its not an issue
every structure kind of absorbs some of
that jitter, acts like a lowpass filter
so, people have to design that
yeah, so imbalances,
if youre doing a reaction wheel,
you go from slow speed to high speed
and you go through all the frequencies, so
you may want to model if you
have structural residences
if the sense of platform has
a  hertz first mode stiffness,
you may not want to hang out at 
hertz a long time with a wheel
because you would be
exciting that frequency
so there might be things
like that to consider
but whats the fundamental challenge
why cant we just use reaction wheels and
apply a torque indefinitely
andrew
 desaturate
 desaturate, right, at some point,
you physically just cant go faster
the bearings break down,
there might be heat dissipation issues
theres all kinds of stuff, an issue
so with cmgs,
were going at a fixed speed nominally
so i dont have any speed limits because
im just running at a fixed speed
i can always keep twisting
what is the problem we
have with cmgs then
casey
 we have gimbal lock
 gimbal lock, right
so with the reaction wheels,
the axis about which we produce
a torque is fixed as seen by the body
because its wheel is bolted down, right
and we had some pictures on this,
let me just go down a few
i like it because it looks beefy,
its really bolted down,
this spin x, the motor axis doesnt
change as seen by the body
so its always, you put on this
 newton meter on this wheel,
it always gives you a torque about that
axis, no matter what the body is doing
versus if you go look at cmgs, which we
had here, now, this is our spin axis
but then theres a gimbal axis,
and that varies with time
and the gyroscopics we were
hearing about earlier,
thats always about that transverse axis
if this is my spin axis and
thats my gimbal axis,
then the change in momentum is about the
third axis, thats the gt axis we called
and that axis varies as you gimbal
so i could only get that big
gyroscopic torque about a single axis
and what can happen with gimbal
lock is with multiple devices,
those axes can all become coplanar
in fact, thats what would happen
if you would just go there,
take the spacecraft, and an astronaut just
goes there and keeps pressing against it,
just to be an irritant,
that spacecraft will hold an attitude
but eventually,
all the gimbals will line up,
such that all the gt axes are orthogonal
to that torque being applied
and then you have gimbal arc,
and everything starts tumbling
so any momentum exchange devices has some
momentum limitations in terms of speeds or
orientations or how you cannot absorb
infinite amount of momentum onto a system
thats just not physically possible
theres always a finite
limit that were seeing
so good, this is what we went through
now deriving equations of motion,
what was the one overriding equation
that drives all this stuff
 inaudible
 h dotl, so casey,
lets go through this quickly
h was what for this system
 the total angular momentum
 of the dynamical system, right
and here we have the spacecraft,
we have a gimbal structure, and
then we have the wheel within
that gimbal structure
so we actually have three components
what was the dot, kevin
 the initial derivative
 right, the derivative as
seen by the inertial frames
immediately transport theorem, right,
were going to have to use that a bunch
and then the l
 external torque
 the net external torque acting on it,
so motor torques dont go in that l
motor torques are internal systems,
where the spacecraft is being pushed
off relative to the gimbal frame
and the gimbal frame pushes off
relative to the wheel frame,
those are internal torques
they dont show up in that l that we had,
good
so, we went through this h dotl,
how hard could that be, right
and its a lot of details,
a lot of book keeping
so, some rigor is helpful here
just notationally, to review,
because we see the same,
cough excuse me, today,
gs is our spin axis of the wheel,
gt is the transverse axis then,
and gg, thats the gimbal axis
so for gimbaling gamma dot,
wheel speed, big omega, all right,
that was kind of the rough breakdown
we had the gimbal frame that we
actually used a lot in the derivation
theres also body frame with a typical b,
, and , but you see in this system,
it tends to be easier to write
everything in the gimbal frame
we have the angular velocities
of gimbal relative to the body,
wheel relative to gimbal, so
you can add, subtract them as needed
and why was it in the end, if we assume
this gimbal frame is principle and
the wheel frame, weve picked one that
lines up with symmetry, its principle,
why is it that the wheel inertia is
the same in the wheel frame as it is in
the gimbal frame
what was the reason why that was case
because thats not generally true, right,
if you have two different frames
and thats only true for iw, not for ig
ig, if you look at this,
it has three distinct inertias
iw has a spin axis inertia, and
then the two other inertias are the same
 does the wheel inertia
 because of the symmetry, exactly
if you did the dcm, this is a rotation
between a wheel fixed frame and
the gimbal frame
the only difference is the rotation
about the one axis, the gs, and
if you put in a dcm,
pretty imposed with the one axis rotation
because of the symmetry here,
you end up stuff that cancels,
and that doesnt matter in the end,
so you get the same thing
and i show that in mathematica
quickly without doing it by hand
but thats a trick we use
so thats why in the end,
we define the wheel frame, but
we never actually use it afterwards
once we get past this step
and say well, the wheel tensor, we can
express it easily in a diagonal form also
with a g up here, instead of a w
we went here, we took our dcm,
so if we have these three axes,
we did this kind of when we worked
with direction cosine matrices, right
the bn matrix, you could write as
b transpose, b, b as rows or n,
, and  as columns
so instead of bn, we have bg, so
the g frames become the three
columns that you have
we can express that
if you then do the matrix math here, which
we did last time, you can write it as
the principle inertias times the outer
products of the base vectors
its a very convenient form,
because we know a lot of algebra on this
any questions on these things too
if theres any questions on last material,
yes, casey
 the gimbal frame is literally
the frame holding the wheel, right
 yes, gimbal frame is this one here gg,
so this axis lines up always with that
so, on a general cmg device, this is the
only one thats fixed as seen by the body
thats where you bolt down the cmg
but the other two axes as you gimbal,
so if this is my gimbal axis,
the gs axis of the wheel and the gt,
those are varying, they rotate about gg
thats whats happening there, yep
so gs, gg, and gt,
thats where they come from
good, so we went through that
so now to get h,
as you were saying earlier,
h has to be the total angular
momentum of this dynamical system
and here we have three
rigid body components
we account for all of them
spacecraft to hub itself is easy,
thats just inertia tensor times omega bn,
weve done that before,
a single rigid body
the gimbal frame has the same
kind of formulation,
the gimbal inertia times the angular
velocity of gimbal relative to inertial
and we write that one as a sum of angular
velocity of gimbal relative to body
plus our typical body angular velocity
and this one is nothing, but
gammatensor gg, and there was ways
i showed you vector ways to do this math
or matrix ways, i actually think later,
here, we did matrix ways
so this is kind of the core stuff
when you write these momentums,
just remember it has to be
relative to the inertial again
you dont just put in the angular momentum
of the wheel relative to the body
you need the full momentum of the system,
h dot  l,
inertial angular momentum that went there
good, run through this, then there was
a variety of derivatives we had to take,
which hopefully,
you could do with the transport theorem,
that was pretty straightforward
the more interesting ones is
what were omega s, omega t, and
omega g, what were those omegas
usually, we have omega , ,
and , which is the b, ,
and  frame component, right
kevin, do you remember
 the components of
the omega vector in g frame
 yes, so the omega s is the gs component
of omega, and omega t is the gt,
so instead of using omega , ,
weve taken the exact same omega vector
just instead of using the body frame,
were using this gimbal frame
were breaking it up into three
different components, right
and just convenient
because those transpose,
those mappings happened everywhere
so now this is a scalar
so tebo, i think last time,
you answered this one
taking a derivative of the scalar,
with respect to what frame are we
taking this time derivative
 you dont take it with respect
to a frame, its a scalar
 a scalar, but the scalar is
a product of a bunch of vectors,
a dot product essentially
so over here,
what frame do you get to pick
 whichever one youd like
 but
 it has to be the same
 so if you have a times b,
you cant say,
well, i will take the q
frame derivative of a
and then later on,
if chain ruled the n frame derivative of
b, once you pick a frame across a product,
across a scalar part of that product,
youre pretty much committed, all right
and this is if you do it inertial,
you can plug it in, and
i think i also showed last time that if
you did it in the body frame, for example,
or the gimbal frame,
thats another one you could pick
youll always get the same answer
as you would expect, all right
so this was a good exercise of taking
derivatives of scalars since scalars
are a function of vectorial quantities,
to put that together
so just definition for
today, you see this again
j is nothing, but
the summation of the inertia of the frame
plus the wheel within the frame
because these sums appear everywhere,
so we define j as that
and then, yeah, the fun, which you did in
homework, theres some subresults there
we do all this, and
then the final definition is is,
which is the inertia of the hub itself,
plus the inertia of the vscmg combined,
gives us the spacecraft inertia
so this one now, does this i
vary as seen by the body frame
 yes
 yeah, this one is fixed
its a rigid hub, but if this is
a variable speed cmg as youre gimbaling,
that wheel,
the mass distribution does change
if you just had a reaction wheel,
does j vary as seen by the body,
if you only have a reaction wheel
all right, no, because that wheel, even
though youre spinning it up and down,
because its perfectly symmetric balanced,
theres no change in mass distribution
one particle replaces the next particle
so, anyway, so keep that in mind,
when you do these simulations,
in this case, youre not going to simulate
this in this class, but , you would
these are the things you would have to
update every time step,  is fun
theres some really interesting
code youre writing there
you guys think estimation is bad,
you have no idea
this is fun stuff
so now we have our equations of motion,
this is kind of where we
ended up with last time
this is a rigid spacecraft plus
a single vscmg device, and
we still have the external
torques that act on it, right
thats not motor torques,
thats gravity gradient torques or
radiation pressure, all this good stuff
and as before, if its a reaction wheel,
what all vanishes
well see that again today
what all goes to  if its a reaction
wheel, instead of a vscmg
endor
 gamma dot terms
 gamma dot, yeah, anything else
gamma double dot also goes to ,
so this vanishes, this vanishes
all this other stuff vanishes,
and in fact,
you get only this term,
you get this term and this term
if you go back and look at your
dual spin equations of motion,
let me just put this up
with the dual spin stuff,
you had exactly these same terms
the one difference was,
we didnt have gs gt gg, there,
the dual spinner,
we lined up our wheel with b
but in essence, b then is gs,
all right, that is that axis
so just make that replacement,
its a  to  thing
this is a slightly more general version,
where your wheel doesnt have
to line up with the b axis
thats what we found
if it is a cmg, kevin,
how much simplifies
 you only get rid of
the omega inaudible
 thats it, whoopdy do,
were still left with  million terms
so now,
especially when you have lots of cmg,
thats why you can see the mathematics of
cmgs, way more complicated right away
in fact, if you have a dual spinner
constant speed, even this time goes to ,
gets more simpler
but this is where we ended up last time
