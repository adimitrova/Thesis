so
what
we
want
to
do
next
is
actually
look
at
motor
torque
equations
.
if
we
go
and
look
at
this
differential
equations
,
this
is
in
a
vectorial
form
,
but
really
if
you
think
of
it
in
the
scalar
components
,
how
many
differential
equations
does
this
line
,
this
boxed
line
give
me
?
three
.
three
.
how
many
states
does
this
system
have
?
three
?
well
,
you
have
omegas
.
there
's
attitude
,
but
for
attitude
,
we
have
the
differential
kinematic
equations
,
right
?
so
attitude
is
always
covered
,
so
let
's
just
ignore
the
attitude
part
.
but
this
differential
equation
,
you
could
solve
for
omega_dot
.
great
.
but
what
is
omega_dot
?
right
?
per
wheel
,
you
do
n't
know
what
that
angular
acceleration
is
gon
na
be
.
what
is
gamma_double_dot
?
we
do
n't
know
that
either
.
so
there
's
two
extra
degrees
of
freedom
in
this
system
.
each
mechanical
device
provided
one
additional
degree
of
freedom
because
we
have
a
single-axis
rotation
going
from
body
to
gimbal
,
gimbal
to
wheel
.
so
this
only
gives
you
three
differential
equations
.
we
need
five
,
and
that
's
because
we
have
one
device
.
if
we
have
five
of
these
devices
,
i
need
way
more
,
but
then
this
kind
of
becomes
repetitive
.
so
we
have
let
's
say
we
have
four
vscmgs
,
this
is
still
the
equation
you
would
use
.
you
would
need
this
with
summations
over
all
the
devices
and
i
'll
show
you
how
to
do
that
.
but
then
we
still
need
what
's
called
the
motor
torque
equations
per
device
.
because
,
ultimately
,
what
you
would
simulate
is
,
hey
,
i
'm
putting
in
one
newton-meter
on
that
spin
axis
for
the
reaction
wheel
and
half
a
newton-meter
on
the
gimbal
axis
.
what
's
the
dynamic
response
gon
na
be
?
all
right
.
so
we
need
these
extra
equations
which
we
do
n't
have
yet
.
so
that
's
what
we
're
gon
na
look
at
next
.
how
do
we
find
these
motor
torque
equations
?
and
essentially
,
we
go
back
to
the
board
and
say
,
look
,
we
're
looking
at
h_dot
equal
to
l.
if
you
think
of
it
as
a
free-body
diagram
Ã¢ÂÂ
let
me
just
draw
that
out
.
if
we
think
of
this
as
a
Ã¢ÂÂ
you
've
got
your
wheel
.
right
.
and
here
's
the
spin
axis
,
and
the
wheel
is
free
to
rotate
about
g_s
.
there
's
your
rotation
.
now
omega
.
so
this
axis
is
a
motor
Ã¢ÂÂ
i
know
there
's
a
motor
torque
that
makes
it
accelerate
about
this
axis
.
if
you
have
zero
voltage
with
the
motor
broke
,
it
would
be
a
free-spinning
wheel
as
,
you
know
,
it
would
spin
up
,
spin
down
.
there
's
no
motor
torque
applied
.
this
is
very
similar
to
that
[
inaudible
]
problem
you
did
with
the
cylinder
and
that
rotisserie
grill
architecture
.
right
?
and
it
was
the
b-b_prime
axis
.
that
was
the
axis
where
it
was
free
to
spin
.
so
if
we
had
no
motor
torque
,
this
would
be
a
free-spin
axis
.
with
the
motor
torque
,
you
get
to
control
what
torque
is
applied
.
all
right
.
so
we
know
this
is
where
our
motor
torque
acts
,
but
this
is
just
one
axis
.
you
will
have
two
other
axes
that
are
orthogonal
to
this
.
and
as
the
spacecraft
is
tumbling
and
moving
Ã¢ÂÂ
remember
,
this
axis
has
a
particular
orientation
in
the
craft
Ã¢ÂÂ
the
structure
has
to
actually
produce
these
other
two
torques
.
so
,
we
can
do
h_dot
equal
to
l
,
about
the
center
of
mass
of
this
wheel
now
,
which
is
what
we
kind
of
derived
earlier
already
,
and
we
can
then
use
that
to
relate
and
come
up
with
a
scalar
equation
that
we
need
.
so
that
's
what
i
'm
showing
you
here
.
so
if
you
do
this
,
h_dot
equal
to
l
Ã¢ÂÂ
the
dynamical
system
is
just
the
wheel
Ã¢ÂÂ
the
only
thing
that
interfaces
with
the
wheel
is
the
motor
torque
in
one
axis
and
then
the
structural
torques
along
the
other
two
.
that
's
what
makes
sure
this
wheel
does
n't
just
flip
sideways
relative
to
the
gimbal
frame
,
right
?
as
you
gimbal
it
,
you
're
specifying
two
of
the
three
dimensions
of
the
wheel
.
it
's
the
spin
that
's
actually
free
.
so
we
can
do
this
,
and
you
've
derived
this
already
,
we
had
this
result
earlier
when
we
derived
the
full
equations
of
motion
,
so
i
get
to
rewrite
it
again
.
and
the
trick
now
is
we
have
to
recognize
here
that
h_dot
equal
to
l
,
that
torque
that
's
acting
on
just
the
wheel
,
the
torque
that
's
along
the
g_s
axis
must
be
what
i
call
u_s
.
that
's
the
spin-axis
motor
torque
.
the
other
two
i
'm
calling
tau
.
those
are
the
structural
torques
that
keep
this
wheel
aligned
relative
to
that
.
if
you
needed
to
know
what
the
structural
torques
were
,
you
're
worried
about
breaking
those
hinges
and
bearings
and
stuff
,
you
can
actually
go
back
here
and
then
do
your
simulation
and
then
,
postprocessing
,
plug
in
all
these
states
.
and
all
these
g_t
's
and
g_g
's
are
gon
na
be
the
structural
torques
that
are
acting
on
the
system
.
so
this
approach
actually
gives
you
the
internal
torques
,
if
you
want
.
now
the
equations
of
motion
,
i
do
n't
need
them
.
so
what
we
do
need
to
do
is
what
is
along
the
g_s
axis
,
that
must
be
equal
.
so
here
,
you
can
see
we
've
got
only
this
part
.
this
part
must
be
equal
to
the
motor
torque
,
and
that
's
where
i
find
my
motor
torque
equation
here
.
it
's
essentially
the
motor
torque
is
the
wheel
inertia
times
the
angular
acceleration
plus
these
two
other
terms
.
if
we
ignore
gimbaling
,
how
big
is
your
spacecraft
acceleration
compared
to
wheel
acceleration
?
what
do
you
think
?
about
the
same
size
?
an
order
of
magnitude
difference
?
two
,
three
orders
of
magnitude
difference
?
how
fast
the
spacecraft
rotate
,
you
think
?
what
's
a
fast
speed
with
before
they
declare
emergencies
?
three
degrees
a
second
?
two
degrees
,
three
degrees
,
just
a
couple
of
degrees
per
second
,
does
n't
take
much
.
you
know
,
how
fast
does
the
wheel
go
?
maximum
speed
,
5-6,000
rpm
,
way
faster
.
so
it
's
accelerations
are
gon
na
well
exceed
what
the
spacecraft
.
so
some
people
actually
just
go
,
you
know
what
,
this
is
my
motor
torque
equation
,
which
really
makes
your
life
simpler
because
it
decouples
this
equation
completely
from
the
attitude
states
and
the
gimbal
states
.
but
it
's
not
the
true
thing
.
momentum
wo
n't
be
preserved
if
you
do
that
.
this
is
the
full
answer
that
you
have
.
and
in
fact
,
if
you
're
gimbaling
at
the
same
time
,
the
gimbal
rate
does
cross-couple
back
into
this
torque
.
there
's
a
gyroscopic
torque
that
you
have
to
account
for
.
and
so
this
is
the
full
motor
torque
equation
that
you
have
.
right
?
so
now
we
have
this
extra
differential
equation
we
needed
.
we
had
earlier
one
for
omega_dot
.
with
this
one
,
if
i
throw
it
in
,
i
can
solve
for
this
one
.
but
you
can
see
it
's
also
coupled
to
this
one
.
so
you
get
linear
systems
of
equations
you
have
to
solve
simultaneously
.
or
you
could
take
this
Ã¢ÂÂ
i
'll
show
you
in
a
moment
Ã¢ÂÂ
we
can
take
this
and
back-substitute
it
in
,
and
this
will
give
us
the
reaction
where
only
creations
of
motion
that
i
'll
show
you
Ã¢ÂÂ
the
classic
results
.
so
,
different
ways
you
can
formulate
it
.
so
that
's
one
extra
differential
equation
.
we
also
need
it
for
the
gamma_double_dot
.
that
needs
the
motor
torque
u_g
.
what
's
that
torque
there
?
there
,
the
dynamical
system
i
'm
using
,
it
's
not
just
the
gimbal
frame
,
but
inside
the
gimbal
frame
is
a
wheel
.
and
the
torques
i
'm
worrying
about
is
outside
of
the
gimbal
frame
,
so
the
gimbal
frame
to
body
is
where
the
motor
torque
is
attached
between
gimbal
and
body
.
so
,
inside
of
it
,
the
dynamical
system
is
actually
both
the
wheel
with
the
gyroscopics
and
the
frame
with
its
gyroscopics
.
so
we
computed
these
h_dot
's
earlier
.
if
you
sum
them
up
,
this
is
what
you
get
.
and
now
,
this
stuff
about
the
gimbal
axis
actually
has
to
be
equal
to
the
motor
torque
.
the
other
two
are
the
structural
torques
being
produced
.
so
it
's
the
same
kind
of
a
process
,
right
?
two
structural
.
this
is
the
motor
torque
here
that
's
really
spinning
this
combined
Ã¢ÂÂ
as
you
rotate
the
frame
,
you
're
also
rotating
the
wheel
.
it
's
a
combined
system
.
and
you
can
come
up
,
you
can
solve
for
this
in
the
end
and
then
that
's
what
you
get
.
so
if
you
drop
this
and
ignore
other
terms
,
you
could
roughly
say
that
torque
is
equal
to
inertia
times
angular
acceleration
,
but
it
's
a
pretty
crude
approximation
.
this
gives
you
the
full
coupling
.
and
you
can
see
,
if
you
have
a
torque
,
you
can
get
your
angular
acceleration
for
the
gimbal
,
but
also
you
get
the
spacecraft
angular
acceleration
coupling
into
it
.
so
,
either
you
back-substitute
or
you
solve
it
as
a
linear
system
of
equations
.
but
now
we
actually
have
five
differential
equations
and
given
torques
acting
on
the
system
,
we
can
solve
for
everything
.
